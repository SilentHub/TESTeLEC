<!doctype html>
<html>
    <head>
        <meta charset="UTF-8" />
        <meta
            http-equiv="Content-Security-Policy"
            content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'; font-src 'self' data:; img-src 'self' data:;"
        />
        <title>Swappy Phrases</title>
        <link rel="stylesheet" href="style.css" />
    </head>
    <body>
        <div class="app-container">
            <aside class="sidebar" id="sidebar">
                <ul id="profile-list" class="profile-list"></ul>
                <button id="manage-profiles-btn" class="manage-profiles-button">
                    –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è–º–∏
                </button>
                <button id="sidebar-toggle-btn" class="sidebar-toggle">
                    <span class="icon-arrow">&laquo;</span>
                </button>
            </aside>

            <main class="main-content">
                <header class="main-header">
                       <div class="top-bar">
                           <nav id="breadcrumb-nav" class="breadcrumbs"></nav>
                           <div class="search-area">
                               <span class="search-icon">&#128269;</span>
                               <input
                                   type="search"
                                   id="search-input"
                                   placeholder="Search"
                               />
                               <button
                                   id="filter-favorites-btn"
                                   class="filter-favorites-btn"
                                   title="–ü–æ–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ"
                               >
                                   &#9825;
                               </button>
                               <button id="random-phrase-btn" class="random-button-top" title="–°–ª—É—á–∞–π–Ω–∞—è —Ñ—Ä–∞–∑–∞">
                                   üé≤
                               </button>
                           </div>
                       </div>
                   </header>
                </header>

                <div id="toast-container" class="toast-container"></div>

                <div id="current-folder-actions" class="folder-actions-bar">
                    <button id="add-folder-btn" class="action-button-main">
                        –î–æ–±–∞–≤–∏—Ç—å –ø–∞–ø–∫—É
                    </button>
                    <button id="add-phrase-btn" class="action-button-main">
                        –î–æ–±–∞–≤–∏—Ç—å —Ñ—Ä–∞–∑—É
                    </button>
                    <button id="add-scenario-btn" class="action-button-main">
                        –î–æ–±–∞–≤–∏—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–π
                    </button>
                </div>

                <section
                    id="phrase-list-area"
                    class="phrase-list-container"
                ></section>

                <footer class="main-footer">
                    <button id="random-phrase-btn" class="random-button">
                        random
                    </button>
                </footer>
            </main>
        </div>

        <div
            id="custom-prompt-overlay"
            class="modal-overlay"
            style="display: none"
        >
            <div class="modal-content">
                <h3 id="modal-title">–í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ</h3>
                <p id="modal-message">–°–æ–æ–±—â–µ–Ω–∏–µ:</p>
                <input type="text" id="modal-input" />
                <div class="modal-actions">
                    <button id="modal-ok-btn">OK</button>
                    <button id="modal-cancel-btn">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </div>
        </div>

        <div
            id="password-prompt-overlay"
            class="modal-overlay"
            style="display: none"
        >
            <div class="modal-content">
                <h3 id="password-modal-title">–í—Ö–æ–¥ –≤ –ø—Ä–æ—Ñ–∏–ª—å "–ê–¥–º–∏–Ω"</h3>
                <p id="password-modal-message">–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å:</p>
                <input type="password" id="password-modal-input" />
                <div class="modal-actions">
                    <button id="password-modal-ok-btn">–í–æ–π—Ç–∏</button>
                    <button id="password-modal-cancel-btn">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </div>
        </div>

        <div
            id="manage-profiles-overlay"
            class="modal-overlay"
            style="display: none"
        >
            <div class="modal-content">
                <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è–º–∏</h3>
                <div id="profiles-editor-list"></div>
                <input
                    type="text"
                    id="new-profile-name-input"
                    placeholder="–ò–º—è –Ω–æ–≤–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è"
                    style="margin-top: 15px; margin-bottom: 10px"
                />
                <button
                    id="add-new-profile-btn"
                    class="modal-action-button"
                    style="width: 100%; margin-bottom: 20px"
                >
                    –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
                </button>
                <div class="modal-actions">
                    <button
                        id="close-manage-profiles-btn"
                        class="modal-action-button"
                    >
                        –ó–∞–∫—Ä—ã—Ç—å
                    </button>
                </div>
            </div>
        </div>

        <div
            id="phrase-editor-modal-overlay"
            class="modal-overlay"
            style="display: none"
        >
            <div class="modal-content phrase-editor-modal-content">
                <h3 id="phrase-editor-title">–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é —Ñ—Ä–∞–∑—É</h3>
                <div class="form-group">
                    <label for="phrase-editor-name"
                        >–ù–∞–∑–≤–∞–Ω–∏–µ —Ñ—Ä–∞–∑—ã (–≤ —Å–ø–∏—Å–∫–µ):</label
                    >
                    <input
                        type="text"
                        id="phrase-editor-name"
                        placeholder="–°—é–¥–∞ –ø–∏—à–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ —Ñ—Ä–∞–∑—ã"
                    />
                </div>
                <div class="form-group">
                    <label for="phrase-editor-phraseText">–§—Ä–∞–∑–∞:</label>
                    <textarea
                        id="phrase-editor-phraseText"
                        rows="3"
                        placeholder="–¢–µ–∫—Å—Ç —Ñ—Ä–∞–∑—ã"
                    ></textarea>
                </div>
                <div class="form-group">
                    <label for="phrase-editor-transcription"
                        >–¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è:</label
                    >
                    <input
                        type="text"
                        id="phrase-editor-transcription"
                        placeholder="–¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)"
                    />
                </div>
                <div class="form-group">
                    <label for="phrase-editor-actionText"
                        >–ß—Ç–æ –¥–µ–ª–∞–µ–º (–∫–æ–Ω—Ç–µ–∫—Å—Ç/–¥–µ–π—Å—Ç–≤–∏–µ):</label
                    >
                    <input
                        type="text"
                        id="phrase-editor-actionText"
                        placeholder="–û–ø–∏—Å–∞–Ω–∏–µ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)"
                    />
                </div>
                <div class="form-group">
                    <label>–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ:</label>
                    <button
                        id="phrase-editor-image-input-trigger"
                        class="action-button-main"
                        style="display: block; margin-bottom: 10px"
                    >
                        –í—ã–±—Ä–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ...
                    </button>
                    <div
                        id="phrase-image-preview-container"
                        style="
                            margin-top: 10px;
                            min-height: 50px;
                            border: 1px dashed #555;
                            padding: 5px;
                            background-color: #2a2a2a;
                            display: flex;
                            justify-content: center;
                            align-items: center;
                        "
                    >
                        <img
                            id="phrase-editor-image-preview"
                            src="#"
                            alt="–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä"
                            style="
                                max-width: 100%;
                                max-height: 150px;
                                display: none;
                                border: 1px solid #555;
                                object-fit: contain;
                            "
                        />
                        <span
                            id="phrase-editor-no-image-text"
                            style="color: #888; font-size: 0.9em"
                            >–ù–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</span
                        >
                    </div>
                    <button
                        id="phrase-editor-clear-image-btn"
                        style="
                            display: none;
                            margin-top: 5px;
                            background-color: #dc3545;
                            color: white;
                            padding: 5px 10px;
                            border: none;
                            border-radius: 3px;
                            cursor: pointer;
                        "
                    >
                        –£–¥–∞–ª–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                    </button>
                </div>
                <div class="modal-actions">
                    <button id="save-phrase-btn" class="modal-action-button">
                        –î–æ–±–∞–≤–∏—Ç—å
                    </button>
                    <button
                        id="cancel-phrase-editor-btn"
                        class="modal-action-button"
                        style="background-color: #6c757d"
                    >
                        –û—Ç–º–µ–Ω–∞
                    </button>
                </div>
            </div>
        </div>

        <div
            id="select-folder-type-modal-overlay"
            class="modal-overlay"
            style="display: none"
        >
            <div class="modal-content">
                <h3>–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –Ω–æ–≤–æ–π –ø–∞–ø–∫–∏</h3>
                <div class="folder-type-selection">
                    <button
                        class="folder-type-option"
                        data-folder-type="folderContainer"
                    >
                        <span class="icon">&#128193;</span
                        ><span>–ü–∞–ø–∫–∞ –¥–ª—è –ü–∞–ø–æ–∫</span>
                    </button>
                    <button
                        class="folder-type-option"
                        data-folder-type="phraseContainer"
                    >
                        <span class="icon">&#128195;</span
                        ><span>–ü–∞–ø–∫–∞ –¥–ª—è –§—Ä–∞–∑</span>
                    </button>
                    <button
                        class="folder-type-option"
                        data-folder-type="scenarioContainer"
                    >
                        <span class="icon">&#127916;</span
                        ><span>–ü–∞–ø–∫–∞ –¥–ª—è –°—Ü–µ–Ω–∞—Ä–∏–µ–≤</span>
                    </button>
                </div>
            </div>
        </div>

        <div
            id="step-editor-modal-overlay"
            class="modal-overlay"
            style="display: none"
        >
            <div class="modal-content step-editor-modal-content">
                <h3 id="step-editor-title">–ù–æ–≤—ã–π —ç—Ç–∞–ø</h3>
                <div class="form-group">
                    <label for="step-editor-name">–ù–∞–∑–≤–∞–Ω–∏–µ —ç—Ç–∞–ø–∞:</label>
                    <input
                        type="text"
                        id="step-editor-name"
                        placeholder="–ü–∏—à–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ —ç—Ç–∞–ø–∞"
                    />
                </div>
                <div class="form-group">
                    <label for="step-editor-description"
                        >–ß—Ç–æ –¥–µ–ª–∞–µ–º –∏ –¥–ª—è —á–µ–≥–æ:</label
                    >
                    <textarea
                        id="step-editor-description"
                        rows="2"
                        placeholder="–ü–∏—à–µ–º —á—Ç–æ –¥–µ–ª–∞–µ–º –∏ –¥–ª—è —á–µ–≥–æ"
                    ></textarea>
                </div>
                <div id="step-actions-panel" class="step-actions-panel">
                    <label>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–ª–æ–∫–∞–º–∏ –¥–µ–π—Å—Ç–≤–∏–π:</label>
                    <div class="action-type-buttons">
                        <button
                            id="add-action-block-btn"
                            class="action-button-main"
                            style="
                                width: 100%;
                                font-size: 1em;
                                background-color: #3a8d3d;
                            "
                        >
                            + –î–æ–±–∞–≤–∏—Ç—å –±–ª–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π
                        </button>
                    </div>
                </div>
                <div id="step-actions-list-container">
                    <p style="color: #888; font-style: italic">
                        (–ó–¥–µ—Å—å –±—É–¥–µ—Ç —Å–ø–∏—Å–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π —ç—Ç–∞–ø–∞)
                    </p>
                </div>
                <div class="modal-actions">
                    <button id="save-step-btn" class="modal-action-button">
                        –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —ç—Ç–∞–ø
                    </button>
                    <button
                        id="cancel-step-editor-btn"
                        class="modal-action-button"
                        style="background-color: #6c757d"
                    >
                        –û—Ç–º–µ–Ω–∞
                    </button>
                </div>
            </div>
        </div>

        <div
            id="confirm-modal-overlay"
            class="modal-overlay"
            style="display: none"
        >
            <div class="modal-content">
                <h3 id="confirm-modal-title">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ</h3>
                <p id="confirm-modal-message"></p>
                <div class="modal-actions">
                    <button id="confirm-modal-cancel-btn">–û—Ç–º–µ–Ω–∞</button>
                    <button id="confirm-modal-ok-btn" class="destructive">
                        –£–¥–∞–ª–∏—Ç—å
                    </button>
                </div>
            </div>
        </div>

        <div id="emoji-picker-popover" class="popover" style="display: none">
            <div class="emoji-grid"></div>
        </div>

        <div
            id="scenario-player-overlay"
            class="modal-overlay"
            style="display: none"
        >
            <div class="scenario-player-content">
                <header class="player-header">
                    <div class="player-nav-controls">
                        <button
                            id="player-prev-step-btn"
                            class="player-nav-btn"
                        >
                            &lt;</button
                        ><button
                            id="player-next-step-btn"
                            class="player-nav-btn"
                        >
                            &gt;
                        </button>
                        <div class="player-title-container">
                            <h3 id="player-step-name">–ù–∞–∑–≤–∞–Ω–∏–µ —ç—Ç–∞–ø–∞</h3>
                            <span id="player-step-counter">1 –∏–∑ 10</span>
                        </div>
                    </div>
                </header>
                <div class="player-main-scroll-area">
                    <p
                        id="player-step-description"
                        class="player-step-description"
                    ></p>
                    <div
                        id="player-actions-list"
                        class="player-actions-list"
                    ></div>
                </div>
                <footer class="player-footer">
                    <button
                        id="player-close-btn"
                        class="player-stop-btn"
                    ></button>
                </footer>
            </div>
        </div>
        <div id="alert-modal-overlay" class="modal-overlay" style="display: none">
            <div class="modal-content">
                <h3 id="alert-modal-title" style="text-align: center;">–í–Ω–∏–º–∞–Ω–∏–µ</h3>
                <p id="alert-modal-message" style="text-align: center; margin-top: 15px;"></p>
                <div class="modal-actions" style="justify-content: center; text-align: center;">
                    <button id="alert-modal-ok-btn">OK</button>
                </div>
            </div>
        </div>
        <div id="context-menu" class="context-menu" style="display: none"></div>
        <div id="notepad-view" style="display: none">
            <textarea id="notepad-textarea" spellcheck="false"></textarea>
        </div>
        <script src="./src/app.js" type="module"></script>
    </body>
</html>
